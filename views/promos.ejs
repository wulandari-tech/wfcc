<%- include('partials/header', { title: title }) %>

<div class="page-container">
    <h1><i class="fas fa-bullhorn"></i> Available Promos</h1>

    <% if (promos && promos.length > 0) { %>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
            <% promos.forEach(promo => { %>
                <div class="card">
                    <div class="card-header" style="color: var(--accent-color);"><i class="fas fa-tag"></i> <%= promo.title %></div>
                    <p><%= promo.description %></p>
                    <% if (promo.code) { %>
                        <p><strong>Code:</strong> <code style="background: #111; padding: 3px 6px; border-radius: 3px;"><%= promo.code %></code></p>
                    <% } %>
                    <% if (promo.discountPercentage) { %>
                        <p><strong>Discount:</strong> <%= promo.discountPercentage %>%</p>
                    <% } %>
                    <% if (promo.endDate) { %>
                        <p><strong>Valid until:</strong> <%= new Date(promo.endDate).toLocaleDateString() %></p>
                    <% } %>
                    <a href="/user/code" class="btn btn-small mt-1"><i class="fas fa-ticket-alt"></i> Use Code</a>
                </div>
            <% }) %>
        </div>
    <% } else { %>
        <p class="alert alert-info"><i class="fas fa-info-circle"></i> No active promos available at the moment. Check back soon!</p>
    <% } %>
</div>

<%- include('partials/footer') %>