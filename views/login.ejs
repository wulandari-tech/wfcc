<%- include('partials/header', { title: title }) %>

<div class="page-container" style="max-width: 500px;">
    <h1><i class="fas fa-sign-in-alt"></i> Login</h1>

    <% if (locals.success_msg && locals.success_msg.length > 0) { %>
        <div class="alert alert-success"><i class="fas fa-check-circle"></i> <%= locals.success_msg[0] %></div>
    <% } else if (typeof custom_success_msg !== 'undefined' && custom_success_msg) { %>
        <div class="alert alert-success"><i class="fas fa-check-circle"></i> <%= custom_success_msg %></div>
    <% } %>

    <% if (locals.error_msg && locals.error_msg.length > 0) { %>
        <div class="alert alert-error"><i class="fas fa-exclamation-triangle"></i> <%= locals.error_msg[0] %></div>
    <% } %>

    <form action="/auth/login" method="POST">
        <div class="form-group">
            <label for="email"><i class="fas fa-envelope"></i> Email Address</label>
            <input type="email" id="email" name="email" value="<%= typeof email !== 'undefined' ? email : '' %>" required placeholder="you@example.com">
        </div>
        <div class="form-group">
            <label for="password"><i class="fas fa-key"></i> Password</label>
            <input type="password" id="password" name="password" required placeholder="Your secure password">
        </div>
        <button type="submit" class="btn" style="width: 100%;"><i class="fas fa-paper-plane"></i> Login Now</button>
    </form>
    <p class="text-center mt-2">Don't have an account? <a href="/auth/register"><strong><i class="fas fa-user-plus"></i> Register here</strong></a>.</p>
</div>

<%- include('partials/footer') %>